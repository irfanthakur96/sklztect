{"version":3,"file":"editor.js","names":["$","window","document","config","forms_fields_ajax_request","$api","$list_id","jQuery","ajax","type","dataType","url","ajaxUrl","data","action","nonce","_wpnonce","api","list_id","success","response","console","log","MailpushOptions","$mailchimp_lists","newOption","Option","AAE_MailChimp","text","id","append","trigger","ajax_request","audience","Object","keys","length","values","empty","attachMailchimpEvent","panel","$el","find","$element","val","on","elementor","channels","editor","sectionName","panelView","parent","taxonomy","$categorySelect","method","forEach","term","attr","name","error","WCF_Addons_Editor"],"sources":["editor.js"],"sourcesContent":["/**\r\n * WCF Addons Editor Core\r\n * @version 1.0.0\r\n */\r\n\r\n/* global jQuery, WCF_Addons_Editor*/\r\n\r\n(function ($, window, document, config) {\r\n    \r\n    const forms_fields_ajax_request = function ($api, $list_id) {\r\n        jQuery.ajax({\r\n            type: \"post\",\r\n            dataType: \"json\",\r\n            url: config.ajaxUrl,\r\n            data: {\r\n                action: \"wcf_mailchimp_list_fields\",\r\n                nonce: config._wpnonce,\r\n                api: $api,\r\n                list_id: $list_id,\r\n            },\r\n            success: function (response) {\r\n                console.log(response);                 \r\n            }\r\n        })\r\n    }\r\n    function MailpushOptions(data,  $mailchimp_lists){\r\n        let newOption = new Option(AAE_MailChimp.text, AAE_MailChimp.id, false, false);\r\n        $mailchimp_lists.append(newOption).trigger('change');\r\n    }\r\n    const ajax_request = function ($api, $mailchimp_lists) {\r\n        \r\n       if(window.AAE_MailChimp){\r\n            MailpushOptions(window.AAE_MailChimp,  $mailchimp_lists);\r\n        }\r\n        jQuery.ajax({\r\n            type: \"post\",\r\n            dataType: \"json\",\r\n            url: config.ajaxUrl,\r\n            data: {\r\n                action: \"mailchimp_api\",\r\n                nonce: config._wpnonce,\r\n                api: $api,\r\n            },\r\n            success: function (response) {  \r\n              \r\n                const audience = $mailchimp_lists;\r\n                if (Object.keys(response).length) {\r\n                    const data = {\r\n                        id: Object.keys(response),\r\n                        text: Object.values(response)\r\n                    };\r\n                    window.AAE_MailChimp = data;\r\n                    MailpushOptions(window.AAE_MailChimp,  $mailchimp_lists);\r\n                } else {\r\n                    audience.empty();\r\n                }\r\n            }\r\n        })\r\n    } \r\n    \r\n    function attachMailchimpEvent(panel){\r\n        const $mailchimp_lists = panel.$el.find('[data-setting=\"mailchimp_lists\"]');  \r\n        const $element = panel.$el.find('[data-setting=\"mailchimp_api\"]');\r\n       \r\n        if ($element.val()) {\r\n            ajax_request($element.val(), $mailchimp_lists);\r\n        }\r\n        \r\n        $mailchimp_lists.on('change', function(){        \r\n            if($mailchimp_lists.val() && $element.val()){\r\n                forms_fields_ajax_request($element.val(),$mailchimp_lists.val())\r\n            }\r\n        });\r\n      \r\n        $element.on('keyup', function () {\r\n            ajax_request($element.val(), $mailchimp_lists);\r\n        });\r\n\r\n    }\r\n    \r\n    elementor.channels.editor.on('wcf:editor:play_animation', (sectionName, panelView)=>{\r\n        sectionName.$el.parent().find('.elementor-control-wcf_enable_animation_editor .elementor-switch-input').trigger('change');\r\n        sectionName.$el.parent().find('.elementor-control-wcf_img_animation_editor .elementor-switch-input').trigger('change');\r\n        sectionName.$el.parent().find('.elementor-control-wcf_text_animation_editor .elementor-switch-input').trigger('change');        \r\n    });\r\n    \r\n    elementor.channels.editor.on('editor:widget:wcf--mailchimp:_section_mailchimp:activated', (panelView)=>{\r\n        attachMailchimpEvent(panelView);        \r\n    });\r\n    \r\n    elementor.channels.editor.on('editor:widget:aae--advanced-mailchimp:_section_mailchimp:activated', (panelView)=>{\r\n        attachMailchimpEvent(panelView);\r\n    });\r\n  \r\n    // dynamic tags \r\n    \r\n    $(document).on('change', '[data-setting=\"taxonomy_type\"]', function () {\r\n        const taxonomy = $(this).val();\r\n        const $categorySelect = $('[data-setting=\"category_id\"]');\r\n\r\n        if (!taxonomy) return;\r\n\r\n        // Clear the category dropdown before loading\r\n        $categorySelect.empty().append('<option value=\"\">Loading...</option>');\r\n\r\n        $.ajax({\r\n            url: config.ajaxUrl,\r\n            method: 'POST',\r\n            data: {\r\n                action: 'wcf_get_terms_by_taxonomy',\r\n                nonce: config._wpnonce,\r\n                taxonomy: taxonomy,\r\n            },\r\n            success: function (response) {\r\n                $categorySelect.empty();\r\n\r\n                if (response.success && response.data.length > 0) {\r\n                    response.data.forEach(function (term) {\r\n                        $categorySelect.append(\r\n                            $('<option></option>').attr('value', term.id).text(term.name)\r\n                        );\r\n                    });\r\n                } else {\r\n                    $categorySelect.append('<option value=\"\">No terms available</option>');\r\n                }\r\n            },\r\n            error: function () {\r\n                $categorySelect.empty().append('<option value=\"\">Error loading terms</option>');\r\n            },\r\n        });\r\n    }); \r\n      \r\n\r\n})(jQuery, window, document, WCF_Addons_Editor);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,UAAUA,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAE;EAEpC,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAaC,IAAI,EAAEC,QAAQ,EAAE;IACxDC,MAAM,CAACC,IAAI,CAAC;MACRC,IAAI,EAAE,MAAM;MACZC,QAAQ,EAAE,MAAM;MAChBC,GAAG,EAAER,MAAM,CAACS,OAAO;MACnBC,IAAI,EAAE;QACFC,MAAM,EAAE,2BAA2B;QACnCC,KAAK,EAAEZ,MAAM,CAACa,QAAQ;QACtBC,GAAG,EAAEZ,IAAI;QACTa,OAAO,EAAEZ;MACb,CAAC;MACDa,OAAO,EAAE,SAATA,OAAOA,CAAYC,QAAQ,EAAE;QACzBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACzB;IACJ,CAAC,CAAC;EACN,CAAC;EACD,SAASG,eAAeA,CAACV,IAAI,EAAGW,gBAAgB,EAAC;IAC7C,IAAIC,SAAS,GAAG,IAAIC,MAAM,CAACC,aAAa,CAACC,IAAI,EAAED,aAAa,CAACE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC;IAC9EL,gBAAgB,CAACM,MAAM,CAACL,SAAS,CAAC,CAACM,OAAO,CAAC,QAAQ,CAAC;EACxD;EACA,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAa3B,IAAI,EAAEmB,gBAAgB,EAAE;IAEpD,IAAGvB,MAAM,CAAC0B,aAAa,EAAC;MACnBJ,eAAe,CAACtB,MAAM,CAAC0B,aAAa,EAAGH,gBAAgB,CAAC;IAC5D;IACAjB,MAAM,CAACC,IAAI,CAAC;MACRC,IAAI,EAAE,MAAM;MACZC,QAAQ,EAAE,MAAM;MAChBC,GAAG,EAAER,MAAM,CAACS,OAAO;MACnBC,IAAI,EAAE;QACFC,MAAM,EAAE,eAAe;QACvBC,KAAK,EAAEZ,MAAM,CAACa,QAAQ;QACtBC,GAAG,EAAEZ;MACT,CAAC;MACDc,OAAO,EAAE,SAATA,OAAOA,CAAYC,QAAQ,EAAE;QAEzB,IAAMa,QAAQ,GAAGT,gBAAgB;QACjC,IAAIU,MAAM,CAACC,IAAI,CAACf,QAAQ,CAAC,CAACgB,MAAM,EAAE;UAC9B,IAAMvB,IAAI,GAAG;YACTgB,EAAE,EAAEK,MAAM,CAACC,IAAI,CAACf,QAAQ,CAAC;YACzBQ,IAAI,EAAEM,MAAM,CAACG,MAAM,CAACjB,QAAQ;UAChC,CAAC;UACDnB,MAAM,CAAC0B,aAAa,GAAGd,IAAI;UAC3BU,eAAe,CAACtB,MAAM,CAAC0B,aAAa,EAAGH,gBAAgB,CAAC;QAC5D,CAAC,MAAM;UACHS,QAAQ,CAACK,KAAK,CAAC,CAAC;QACpB;MACJ;IACJ,CAAC,CAAC;EACN,CAAC;EAED,SAASC,oBAAoBA,CAACC,KAAK,EAAC;IAChC,IAAMhB,gBAAgB,GAAGgB,KAAK,CAACC,GAAG,CAACC,IAAI,CAAC,kCAAkC,CAAC;IAC3E,IAAMC,QAAQ,GAAGH,KAAK,CAACC,GAAG,CAACC,IAAI,CAAC,gCAAgC,CAAC;IAEjE,IAAIC,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAE;MAChBZ,YAAY,CAACW,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAEpB,gBAAgB,CAAC;IAClD;IAEAA,gBAAgB,CAACqB,EAAE,CAAC,QAAQ,EAAE,YAAU;MACpC,IAAGrB,gBAAgB,CAACoB,GAAG,CAAC,CAAC,IAAID,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAC;QACxCxC,yBAAyB,CAACuC,QAAQ,CAACC,GAAG,CAAC,CAAC,EAACpB,gBAAgB,CAACoB,GAAG,CAAC,CAAC,CAAC;MACpE;IACJ,CAAC,CAAC;IAEFD,QAAQ,CAACE,EAAE,CAAC,OAAO,EAAE,YAAY;MAC7Bb,YAAY,CAACW,QAAQ,CAACC,GAAG,CAAC,CAAC,EAAEpB,gBAAgB,CAAC;IAClD,CAAC,CAAC;EAEN;EAEAsB,SAAS,CAACC,QAAQ,CAACC,MAAM,CAACH,EAAE,CAAC,2BAA2B,EAAE,UAACI,WAAW,EAAEC,SAAS,EAAG;IAChFD,WAAW,CAACR,GAAG,CAACU,MAAM,CAAC,CAAC,CAACT,IAAI,CAAC,wEAAwE,CAAC,CAACX,OAAO,CAAC,QAAQ,CAAC;IACzHkB,WAAW,CAACR,GAAG,CAACU,MAAM,CAAC,CAAC,CAACT,IAAI,CAAC,qEAAqE,CAAC,CAACX,OAAO,CAAC,QAAQ,CAAC;IACtHkB,WAAW,CAACR,GAAG,CAACU,MAAM,CAAC,CAAC,CAACT,IAAI,CAAC,sEAAsE,CAAC,CAACX,OAAO,CAAC,QAAQ,CAAC;EAC3H,CAAC,CAAC;EAEFe,SAAS,CAACC,QAAQ,CAACC,MAAM,CAACH,EAAE,CAAC,2DAA2D,EAAE,UAACK,SAAS,EAAG;IACnGX,oBAAoB,CAACW,SAAS,CAAC;EACnC,CAAC,CAAC;EAEFJ,SAAS,CAACC,QAAQ,CAACC,MAAM,CAACH,EAAE,CAAC,oEAAoE,EAAE,UAACK,SAAS,EAAG;IAC5GX,oBAAoB,CAACW,SAAS,CAAC;EACnC,CAAC,CAAC;;EAEF;;EAEAlD,CAAC,CAACE,QAAQ,CAAC,CAAC2C,EAAE,CAAC,QAAQ,EAAE,gCAAgC,EAAE,YAAY;IACnE,IAAMO,QAAQ,GAAGpD,CAAC,CAAC,IAAI,CAAC,CAAC4C,GAAG,CAAC,CAAC;IAC9B,IAAMS,eAAe,GAAGrD,CAAC,CAAC,8BAA8B,CAAC;IAEzD,IAAI,CAACoD,QAAQ,EAAE;;IAEf;IACAC,eAAe,CAACf,KAAK,CAAC,CAAC,CAACR,MAAM,CAAC,sCAAsC,CAAC;IAEtE9B,CAAC,CAACQ,IAAI,CAAC;MACHG,GAAG,EAAER,MAAM,CAACS,OAAO;MACnB0C,MAAM,EAAE,MAAM;MACdzC,IAAI,EAAE;QACFC,MAAM,EAAE,2BAA2B;QACnCC,KAAK,EAAEZ,MAAM,CAACa,QAAQ;QACtBoC,QAAQ,EAAEA;MACd,CAAC;MACDjC,OAAO,EAAE,SAATA,OAAOA,CAAYC,QAAQ,EAAE;QACzBiC,eAAe,CAACf,KAAK,CAAC,CAAC;QAEvB,IAAIlB,QAAQ,CAACD,OAAO,IAAIC,QAAQ,CAACP,IAAI,CAACuB,MAAM,GAAG,CAAC,EAAE;UAC9ChB,QAAQ,CAACP,IAAI,CAAC0C,OAAO,CAAC,UAAUC,IAAI,EAAE;YAClCH,eAAe,CAACvB,MAAM,CAClB9B,CAAC,CAAC,mBAAmB,CAAC,CAACyD,IAAI,CAAC,OAAO,EAAED,IAAI,CAAC3B,EAAE,CAAC,CAACD,IAAI,CAAC4B,IAAI,CAACE,IAAI,CAChE,CAAC;UACL,CAAC,CAAC;QACN,CAAC,MAAM;UACHL,eAAe,CAACvB,MAAM,CAAC,8CAA8C,CAAC;QAC1E;MACJ,CAAC;MACD6B,KAAK,EAAE,SAAPA,KAAKA,CAAA,EAAc;QACfN,eAAe,CAACf,KAAK,CAAC,CAAC,CAACR,MAAM,CAAC,+CAA+C,CAAC;MACnF;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AAGN,CAAC,EAAEvB,MAAM,EAAEN,MAAM,EAAEC,QAAQ,EAAE0D,iBAAiB,CAAC","ignoreList":[]}