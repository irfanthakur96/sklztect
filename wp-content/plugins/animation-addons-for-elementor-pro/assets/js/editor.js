!function(n,t,e,a){function i(n,t){var e=new Option(AAE_MailChimp.text,AAE_MailChimp.id,!1,!1);t.append(e).trigger("change")}var o=function(n,e){t.AAE_MailChimp&&i(t.AAE_MailChimp,e),jQuery.ajax({type:"post",dataType:"json",url:a.ajaxUrl,data:{action:"mailchimp_api",nonce:a._wpnonce,api:n},success:function(n){var a=e;if(Object.keys(n).length){var o={id:Object.keys(n),text:Object.values(n)};t.AAE_MailChimp=o,i(t.AAE_MailChimp,e)}else a.empty()}})};function c(n){var t=n.$el.find('[data-setting="mailchimp_lists"]'),e=n.$el.find('[data-setting="mailchimp_api"]');e.val()&&o(e.val(),t),t.on("change",(function(){var n,i;t.val()&&e.val()&&(n=e.val(),i=t.val(),jQuery.ajax({type:"post",dataType:"json",url:a.ajaxUrl,data:{action:"wcf_mailchimp_list_fields",nonce:a._wpnonce,api:n,list_id:i},success:function(n){console.log(n)}}))})),e.on("keyup",(function(){o(e.val(),t)}))}elementor.channels.editor.on("wcf:editor:play_animation",(function(n,t){n.$el.parent().find(".elementor-control-wcf_enable_animation_editor .elementor-switch-input").trigger("change"),n.$el.parent().find(".elementor-control-wcf_img_animation_editor .elementor-switch-input").trigger("change"),n.$el.parent().find(".elementor-control-wcf_text_animation_editor .elementor-switch-input").trigger("change")})),elementor.channels.editor.on("editor:widget:wcf--mailchimp:_section_mailchimp:activated",(function(n){c(n)})),elementor.channels.editor.on("editor:widget:aae--advanced-mailchimp:_section_mailchimp:activated",(function(n){c(n)})),n(e).on("change",'[data-setting="taxonomy_type"]',(function(){var t=n(this).val(),e=n('[data-setting="category_id"]');t&&(e.empty().append('<option value="">Loading...</option>'),n.ajax({url:a.ajaxUrl,method:"POST",data:{action:"wcf_get_terms_by_taxonomy",nonce:a._wpnonce,taxonomy:t},success:function(t){e.empty(),t.success&&t.data.length>0?t.data.forEach((function(t){e.append(n("<option></option>").attr("value",t.id).text(t.name))})):e.append('<option value="">No terms available</option>')},error:function(){e.empty().append('<option value="">Error loading terms</option>')}}))}))}(jQuery,window,document,WCF_Addons_Editor);