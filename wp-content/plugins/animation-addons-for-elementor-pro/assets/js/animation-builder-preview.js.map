{"version":3,"file":"animation-builder-preview.js","names":["wcfWindow","wcfAnimBPreview","config","scrollTriggerInstance","hoverEnabled","getFullSelector","element","path","depth","idCount","tagName","toLowerCase","selector","getUniqueSelector","id","unshift","parentElement","join","tag","concat","classList","Array","from","filter","cls","length","extractLastSelector","undefined","full","classes","lastPart","trim","split","pop","slice","resetAnimations","gsap","globalTimeline","clear","animation","forEach","section","animations","applyAnimation","className","set","clearProps","ScrollTrigger","getAll","st","kill","killAll","generateAnimations","hidePopup","timelines","scrollConfig","timeline","properties","reduce","acc","prop","isError","name","unit","value","title","document","querySelector","type","ccustomArr","cItem","SplcItem","method","x","absoluteTime","console","warn","enable","scrolTime","final_scroll_configs","trigger","endTrigger","start","end","scrub","markers","pin","pinSpacing","extraprops","extractNameAndValue","pinprop","pinAnticipate","parseInt","pinContainer","pinType","create","refresh","data","map","item","showPopup","y","popup","getElementById","content","textContent","popupWidth","offsetWidth","popupHeight","offsetHeight","contentWidth","contentHeight","viewportWidth","window","innerWidth","viewportHeight","innerHeight","style","left","top","display","handleMouseOver","event","target","contains","add","addEventListener","remove","once","enableHover","body","disableHover","removeEventListener","getConfig","key","_objectSpread","setConfig","_typeof","Object","assign","playAnimation","sendPageConfig","setTimeout","parent","postMessage","wcf_anim_preview_object","enableHoverSelector","disableHoverSelector","fallbackCopyTextToClipboard","text","textArea","createElement","position","appendChild","focus","select","successful","execCommand","msg","log","err","error","removeChild","runPopup","closeBtn","selectorContent","e","toggle","preventDefault","isSkip","clientX","clientY","textElement","textToCopy","navigator","clipboard","isSecureContext","writeText","then","tempTextarea"],"sources":["animation-builder-preview.js"],"sourcesContent":["(function (wcfWindow) {\r\n  \"use strict\";\r\n\r\n  const wcfAnimBPreview = (function () {\r\n    let config = {};\r\n    const scrollTriggerInstance = [];\r\n    let hoverEnabled = false;\r\n\r\n    function getFullSelector(element) {\r\n      const path = [];\r\n      let depth = 0; // Track depth\r\n      let idCount = 0; // Track the number of IDs in the selector\r\n\r\n      while (element && element.tagName.toLowerCase() !== \"html\" && depth < 3) {\r\n        let selector = getUniqueSelector(element);\r\n\r\n        // Check if the current element has an ID\r\n        if (element.id) {\r\n          idCount++;\r\n          // Stop adding IDs if the limit is reached\r\n          if (idCount > 2) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        path.unshift(selector);\r\n        element = element.parentElement;\r\n        depth++; // Increment depth\r\n      }\r\n\r\n      return path.join(\" > \");\r\n    }\r\n\r\n    function getUniqueSelector(element) {\r\n      const tag = element.tagName.toLowerCase();\r\n\r\n      // Add ID if available\r\n      if (element.id) {\r\n        return `${tag}#${element.id}`; // Only tag and ID, skip classes\r\n      }\r\n\r\n      // Add class names, excluding the hover-highlight class\r\n      const classList = Array.from(element.classList).filter(\r\n        (cls) => cls !== \"wcf-animb--hover-highlight\"\r\n      );\r\n\r\n      if (classList.length > 0) {\r\n        return `${tag}.${classList.join(\".\")}`; // Concatenated classes if no ID\r\n      }\r\n\r\n      return tag; // Return only tag if no ID or classes\r\n    }\r\n\r\n    function extractLastSelector(selector) {\r\n      if (selector === undefined) {\r\n        return { full: \"\", tag: \"\", classes: false, id: \"\" };\r\n      }\r\n      // Regular expression to match selectors based on common delimiters\r\n      const lastPart = selector\r\n        .trim()\r\n        .split(/[\\s>+~]+/) // Split by spaces, >, +, or ~\r\n        .pop() // Get the last element in the array\r\n        .trim();\r\n\r\n      // Extract the tag (if any) and classes (if any)\r\n      const tag = lastPart.split(\".\")[0].split(\"#\")[0]; // Takes the first part before classes or IDs\r\n      const classes = lastPart\r\n        .split(\".\")\r\n        .slice(1) // Remove the tag name\r\n        .join(\".\"); // Join classes back\r\n      const id = lastPart.split(\"#\")[1]; // Extract the ID if present\r\n\r\n      return { full: lastPart, tag, classes, id };\r\n    }\r\n\r\n    function resetAnimations(config) {\r\n      gsap.globalTimeline.clear(); // Clears all animations\r\n\r\n      config.animation.forEach((section) => {\r\n        section.animations.forEach((animation) => {\r\n          const selector = extractLastSelector(\r\n            animation.applyAnimation.className\r\n          );\r\n          if (selector?.full && selector.full != \"\") {\r\n            gsap.set(selector.full, { clearProps: \"all\" });\r\n          }\r\n        });\r\n      });\r\n\r\n      ScrollTrigger.getAll().forEach((st) => st.kill());\r\n      ScrollTrigger.killAll();\r\n      gsap.globalTimeline.clear();\r\n    }\r\n\r\n    function generateAnimations(config) {\r\n      hidePopup();\r\n      resetAnimations(config);\r\n      config.animation.forEach((section) => {\r\n        const timelines = {};\r\n        const scrollConfig = section.ScrollTrigger;\r\n        section.timelines.forEach((timeline) => {\r\n          const config = timeline.properties.reduce((acc, prop) => {\r\n            if (!prop.isError) {\r\n              acc[prop.name] = prop.unit\r\n                ? `${prop.value}${prop.unit}`\r\n                : prop.value;\r\n            }\r\n            return acc;\r\n          }, {});\r\n          timelines[timeline.title] = gsap.timeline(config);\r\n        });\r\n\r\n        section.animations.forEach((animation) => {\r\n          const timeline = timelines[animation.timeline];\r\n          if (\r\n            animation.applyAnimation.className &&\r\n            animation.applyAnimation.className !== \"\"\r\n          ) {\r\n            if (document.querySelector(animation.applyAnimation.className)) {\r\n                const properties = animation.properties.reduce((acc, prop) => {\r\n                  if(prop.type==='custom'){\r\n                    const ccustomArr = prop.value.split(',');\r\n                    if(ccustomArr.length){\r\n                      ccustomArr.forEach((cItem) => {\r\n                        if(cItem !=''){\r\n                          const SplcItem = cItem.split(':');\r\n                          if(SplcItem.length > 1){\r\n                            acc[SplcItem[0].trim()] = SplcItem[1].trim();    \r\n                          }                                                       \r\n                        }\r\n                      });\r\n                    }\r\n                 }else{\r\n                  if (!prop.isError) {\r\n                    acc[prop.name] = prop.unit\r\n                      ? `${prop.value}${prop.unit}`\r\n                      : prop.value;\r\n                  }\r\n                 }\r\n                return acc;\r\n              }, {});\r\n              const method = animation.method || \"to\";\r\n              if (method && animation.method == \"fromTo\") {\r\n                timeline[method](\r\n                  animation.applyAnimation.className,\r\n                  { x: -100 },\r\n                  properties\r\n                ); // need from propeties , change in ui\r\n              } else {\r\n                if(animation.absoluteTime !=''){\r\n                  timeline[method](animation.applyAnimation.className, properties, animation.absoluteTime);\r\n                }else{\r\n                  timeline[method](animation.applyAnimation.className, properties);\r\n                }\r\n              }\r\n            } else {\r\n              console.warn(\r\n                `Target not found for animation: ${animation.title}`\r\n              );\r\n            }\r\n          }\r\n        });\r\n\r\n        // Scroll Trigger\r\n        if (scrollConfig?.enable && scrollConfig.enable) {\r\n          const scrolTime = timelines[scrollConfig.timeline];\r\n          if (scrolTime && ScrollTrigger) {\r\n            const final_scroll_configs = {\r\n              animation: scrolTime,\r\n              trigger: scrollConfig.trigger,\r\n              endTrigger: scrollConfig.endTrigger,\r\n              start: scrollConfig.start,\r\n              end: scrollConfig.end,\r\n              scrub: scrollConfig.scrub === \"true\",\r\n              markers: scrollConfig.markers === \"true\", // Enable markers dynamically\r\n            };\r\n\r\n            if (scrollConfig.pin === \"true\") {\r\n              final_scroll_configs.pin = scrollConfig.pin === \"true\";\r\n              final_scroll_configs.pinSpacing =\r\n                scrollConfig.pinSpacing === \"true\";\r\n              const extraprops = extractNameAndValue(scrollConfig.properties);\r\n              extraprops.forEach((pinprop) => {\r\n                if (pinprop.name === \"markers\") {\r\n                  final_scroll_configs.markers = pinprop.value;\r\n                }\r\n                if (pinprop.name === \"anticipate pin\") {\r\n                  final_scroll_configs.pinAnticipate =\r\n                    parseInt(pinprop.value, 10) || 0;\r\n                }\r\n                if (pinprop.name === \"pinned container\") {\r\n                  final_scroll_configs.pinContainer = pinprop.value || null;\r\n                }\r\n                if (pinprop.name === \"pin type\") {\r\n                  final_scroll_configs.pinType = pinprop.value || \"fixed\";\r\n                }\r\n              });\r\n            }\r\n\r\n            ScrollTrigger.create(final_scroll_configs);\r\n            ScrollTrigger.refresh(); // Ensure everything recalculates\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    function extractNameAndValue(data) {\r\n      return data.map((item) => ({\r\n        name: item.name,\r\n        value: item.value,\r\n      }));\r\n    }\r\n\r\n    // Show the popup near the clicked element\r\n    function showPopup(selector, x, y) {\r\n      const popup = document.getElementById(\"wcfanim-selectorPopup\");\r\n      const content = document.getElementById(\"wcfanim-popupContent\");\r\n\r\n      // Set the content of the popup (for example, display the selector string)\r\n      content.textContent = selector;\r\n\r\n      // Get the width and height of the popup and its content\r\n      const popupWidth = popup.offsetWidth;\r\n      const popupHeight = popup.offsetHeight;\r\n      const contentWidth = content.offsetWidth;\r\n      const contentHeight = content.offsetHeight;\r\n\r\n      // Get the current viewport size\r\n      const viewportWidth = window.innerWidth;\r\n      const viewportHeight = window.innerHeight;\r\n\r\n      // Adjust the x-coordinate if the popup is too wide for the screen\r\n      if (x + popupWidth > viewportWidth) {\r\n        x = viewportWidth - popupWidth - 10; // Keep it 10px away from the right edge\r\n      }\r\n\r\n      // Adjust the y-coordinate if the popup is too tall for the screen\r\n      if (y + popupHeight > viewportHeight) {\r\n        y = viewportHeight - popupHeight - 10; // Keep it 10px away from the bottom edge\r\n      }\r\n\r\n      // Position the popup\r\n      popup.style.left = `${x}px`;\r\n      popup.style.top = `${y}px`;\r\n\r\n      // Show the popup\r\n      popup.style.display = \"block\";\r\n    }\r\n\r\n    // Hide the popup\r\n    function hidePopup() {\r\n      const popup = document.getElementById(\"wcfanim-selectorPopup\");\r\n      popup.style.display = \"none\";\r\n    }\r\n\r\n    function handleMouseOver(event) {\r\n      const target = event.target;\r\n\r\n      if (target.classList.contains(\"wcfanimb-skip-selector\")) {\r\n        return;\r\n      }\r\n\r\n      target.classList.add(\"wcf-animb--hover-highlight\");\r\n      target.addEventListener(\r\n        \"mouseleave\",\r\n        () => {\r\n          target.classList.remove(\"wcf-animb--hover-highlight\");\r\n        },\r\n        { once: true }\r\n      );\r\n    }\r\n\r\n    function enableHover() {\r\n      if (!hoverEnabled) {\r\n        document.body.addEventListener(\"mouseover\", handleMouseOver);\r\n        hoverEnabled = true;\r\n      }\r\n    }\r\n\r\n    function disableHover() {\r\n      if (hoverEnabled) {\r\n        document.body.removeEventListener(\"mouseover\", handleMouseOver);\r\n        hoverEnabled = false;\r\n      }\r\n    }\r\n\r\n    return {\r\n      // Get the current configuration\r\n      getConfig: function (key) {\r\n        return key ? config[key] : { ...config }; // Return specific key or full config\r\n      },\r\n\r\n      // Set a single configuration or multiple configurations\r\n      setConfig: function (key, value) {\r\n        if (typeof key === \"object\") {\r\n          // Update multiple configurations\r\n          Object.assign(config, key);\r\n        } else {\r\n          // Update a single configuration\r\n          config[key] = value;\r\n        }\r\n      },\r\n\r\n      // Show a message using the current configurations\r\n      playAnimation: function () {\r\n        generateAnimations(config);\r\n      },\r\n\r\n      sendPageConfig: function () {\r\n        window.addEventListener(\r\n          \"message\",\r\n          (event) => {\r\n            if (\"wcf-animation-config\" in event.data) {\r\n              disableHover();\r\n              wcfAnimBPreview.setConfig(\r\n                \"animation\",\r\n                event.data[\"wcf-animation-config\"]\r\n              ); // Update multiple configs\r\n              wcfAnimBPreview.playAnimation();\r\n            }\r\n          },\r\n          false\r\n        );\r\n\r\n        setTimeout(() => {\r\n          window.parent.postMessage(wcf_anim_preview_object);\r\n        }, 1000);\r\n      },\r\n\r\n      enableHoverSelector: function () {\r\n        enableHover();\r\n      },\r\n\r\n      disableHoverSelector: function () {\r\n        disableHover();\r\n      },\r\n\r\n      fallbackCopyTextToClipboard: function (text) {\r\n        var textArea = document.createElement(\"textarea\");\r\n        textArea.value = text;\r\n\r\n        // Avoid scrolling to bottom\r\n        textArea.style.top = \"0\";\r\n        textArea.style.left = \"0\";\r\n        textArea.style.position = \"fixed\";\r\n\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n\r\n        try {\r\n          var successful = document.execCommand(\"copy\");\r\n          var msg = successful ? \"successful\" : \"unsuccessful\";\r\n          console.log(\"Fallback: Copying text command was \" + msg);\r\n        } catch (err) {\r\n          console.error(\"Fallback: Oops, unable to copy\", err);\r\n        }\r\n\r\n        document.body.removeChild(textArea);\r\n      },\r\n\r\n      runPopup: function () {\r\n        const closeBtn = document.querySelector(\".wcfanimb-close-btn\");\r\n        const selectorContent = document.getElementById(\"wcfanim-popupContent\");\r\n\r\n        closeBtn.addEventListener(\"click\", () => {\r\n          hidePopup();\r\n          disableHover();\r\n        });\r\n\r\n        document\r\n          .getElementById(\"wcfanim-expendSelector\")\r\n          .addEventListener(\"click\", (e) => {\r\n            selectorContent.classList.toggle(\"close\");\r\n           \r\n            if (selectorContent.classList.contains(\"close\")) {\r\n              document.getElementById(\"wcfanim-expendSelector\").textContent =\r\n                \"Expand\";\r\n            } else {\r\n              document.getElementById(\"wcfanim-expendSelector\").textContent =\r\n                \"Shrink\";\r\n            }\r\n          });\r\n\r\n        document.body.addEventListener(\"click\", (event) => {\r\n          event.preventDefault();\r\n          const target = event.target;\r\n          const selector = getFullSelector(target);\r\n          // Show the popup at the click location\r\n          enableHover();\r\n\r\n          const isSkip = target.classList.contains(\"wcfanimb-skip-selector\");\r\n\r\n          if (!isSkip) {\r\n            showPopup(selector, event.clientX + 10, event.clientY + 10);\r\n          }\r\n        });\r\n\r\n       \r\n\r\n        document\r\n          .getElementById(\"wcfanim-copySelector\")\r\n          .addEventListener(\"click\", () => {\r\n            const textElement = document.getElementById(\"wcfanim-popupContent\");\r\n            const textToCopy = textElement.textContent;\r\n\r\n            // Use navigator.clipboard if available\r\n            if (navigator.clipboard && window.isSecureContext) {\r\n              // Modern API for copying\r\n              navigator.clipboard\r\n                .writeText(textToCopy)\r\n                .then(() => {\r\n                  disableHover();\r\n                  hidePopup();\r\n                })\r\n                .catch((err) => {\r\n                  console.error(\"Failed to copy text: \", err);\r\n                });\r\n            } else {\r\n              // Fallback to manual method for older browsers\r\n              const tempTextarea = document.createElement(\"textarea\");\r\n              tempTextarea.value = textToCopy;\r\n\r\n              // Style the textarea to be offscreen\r\n              tempTextarea.style.position = \"fixed\";\r\n              tempTextarea.style.top = \"-9999px\";\r\n              document.body.appendChild(tempTextarea);\r\n\r\n              // Select the text inside the textarea\r\n              tempTextarea.focus();\r\n              tempTextarea.select();\r\n\r\n              try {\r\n                if (document.execCommand(\"copy\")) {\r\n                  disableHover();\r\n                  hidePopup();\r\n                }\r\n              } catch (err) {\r\n                console.error(\"Error copying text: \", err);\r\n              }\r\n\r\n              // Clean up by removing the temporary textarea\r\n              document.body.removeChild(tempTextarea);\r\n            }\r\n          });\r\n      },\r\n    };\r\n  })();\r\n\r\n  wcfAnimBPreview.enableHoverSelector();\r\n  wcfAnimBPreview.runPopup();\r\n  wcfAnimBPreview.sendPageConfig();\r\n})(window);\r\n"],"mappings":"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","ignoreList":[]}