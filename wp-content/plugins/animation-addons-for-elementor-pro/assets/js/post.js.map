{"version":3,"file":"post.js","names":["$","WCF_Feature_Posts","$scope","$popup_id","attr","popup_content","first","parent","is","length","appendTo","open_popup","concat","each","index","next","remove","off","on","$_url","find","html","hasClass","gallery","clone","swiper","Swiper","navigation","nextEl","prevEl","window","VideoAnimation","gsap","timeline","defaults","ease","to","scaleY","x","opacity","visibility","duration","wrapper","link","audio","Audio","addEventListener","totalDuration","Math","floor","minutes","seconds","text","paused","play","hide","show","interval","setInterval","remainingTime","currentTime","clearInterval","pause","console","error","elementorFrontend","hooks","addAction","jQuery"],"sources":["post.js"],"sourcesContent":["(function ($) {\r\n    const WCF_Feature_Posts = function ($scope, $) {\r\n        const $popup_id = $scope.attr('data-id');\r\n        let popup_content = $(`.wcf--popup-video-wrapper`).first();\r\n        // Move popup content to body if not already moved\r\n        if (!popup_content.parent().is('body')) {\r\n            if (!$('body > .wcf--popup-video-wrapper').length) {\r\n                popup_content.appendTo('body');\r\n            }\r\n        }\r\n\r\n        const open_popup = $(`.elementor-element-${$popup_id} .wcf-post-popup`);\r\n\r\n\r\n        open_popup.each(function (index) {\r\n\r\n            $(this).next('.wcf--popup-video-wrapper').remove();\r\n            $(this).off('click').on('click', function () {\r\n                let $_url = $(this).attr('data-src');\r\n\r\n                $(`.wcf--popup-video-wrapper`).find('.aae-popup-content-container').html('');\r\n\r\n                if ($(this).hasClass('audio')) {\r\n                    $('.wcf--popup-video-wrapper').find('.aae-popup-content-container').html(`<div class=\"audio wcf-audio-wrapper-clean\">\r\n                        <audio controls>\r\n                            <source src=\"${$_url}\" type=\"audio/mpeg\">\r\n                        </audio>\r\n                    </div>`);\r\n                }\r\n\r\n                if ($(this).hasClass('video')) {\r\n                    $('.wcf--popup-video-wrapper').find('.aae-popup-content-container').html(`<iframe  src=\"${$_url}\" ></iframe>`);\r\n                }\r\n\r\n                if ($(this).hasClass('gallery')) {\r\n                    let gallery = $scope.find('.aae-post-gallery-wrapper').clone();\r\n                    $('.wcf--popup-video-wrapper').find('.aae-popup-content-container').html(gallery);\r\n                    const swiper = new Swiper(\".aae-popup-content-container .gallery-slider\", {\r\n                        'speed': '1500',\r\n                        navigation: {\r\n                            nextEl: \".btn-next\",\r\n                            prevEl: \".btn-prev\",\r\n                        },\r\n                    });\r\n                }\r\n\r\n                window.VideoAnimation = gsap.timeline({defaults: {ease: \"power2.inOut\"}})\r\n                    .to(`body > .wcf--popup-video-wrapper`, {\r\n                        scaleY: 0.01,\r\n                        x: 1,\r\n                        opacity: 1,\r\n                        visibility: 'visible',\r\n                        duration: 0.4\r\n                    })\r\n                    .to(`body > .wcf--popup-video-wrapper`, {\r\n                        scaleY: 1,\r\n                        duration: 0.6\r\n                    })\r\n                    .to(`body > .wcf--popup-video-wrapper .wcf--popup-video`, {\r\n                        scaleY: 1,\r\n                        opacity: 1,\r\n                        visibility: 'visible',\r\n                        duration: 0.6\r\n                    }, \"-=0.4\");\r\n            });\r\n        });\r\n\r\n        // Calculate audio duration\r\n        $('.audio-duration-wrapper', $scope).each(function () {\r\n            const wrapper = $(this);\r\n            const link = wrapper.attr('data-link');\r\n\r\n            if (link) {\r\n                const audio = new Audio(link);\r\n\r\n                audio.addEventListener('loadedmetadata', function () {\r\n                    const totalDuration = Math.floor(audio.duration);\r\n                    const minutes = Math.floor(totalDuration / 60);\r\n                    const seconds = totalDuration % 60;\r\n\r\n                    wrapper.find('.audio-duration').text(`${minutes}:${seconds < 10 ? '0' : ''}${seconds}`);\r\n                });\r\n\r\n                wrapper.find('.audio-icon').on('click', function () {\r\n                    if (audio.paused) {\r\n                        audio.play();\r\n                        $(this).find('.play-icon').hide();\r\n                        $(this).find('.pause-icon').show();\r\n\r\n                        const interval = setInterval(function () {\r\n                            const remainingTime = Math.floor(audio.duration - audio.currentTime);\r\n                            const minutes = Math.floor(remainingTime / 60);\r\n                            const seconds = remainingTime % 60;\r\n\r\n                            wrapper.find('.audio-duration').text(`${minutes}:${seconds < 10 ? '0' : ''}${seconds}`);\r\n\r\n                            if (remainingTime <= 0) {\r\n                                clearInterval(interval);\r\n                                wrapper.find('.play-icon').show();\r\n                                // wrapper.find('.play-icon').text('â–¶');\r\n                            }\r\n                        }, 1000);\r\n                    } else {\r\n                        audio.pause();\r\n                        $(this).find('.pause-icon').hide();\r\n                        $(this).find('.play-icon').show();\r\n                    }\r\n                });\r\n\r\n                audio.addEventListener('error', function () {\r\n                    console.error(`Could not load audio from: ${link}`);\r\n                    wrapper.find('.audio-duration').text('Error');\r\n                });\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    // Make sure you run this code under Elementor.\r\n    $(window).on('elementor/frontend/init', function () {\r\n        elementorFrontend.hooks.addAction('frontend/element_ready/wcf--feature-posts.default', WCF_Feature_Posts);\r\n        elementorFrontend.hooks.addAction('frontend/element_ready/wcf--posts-pro.default', WCF_Feature_Posts);\r\n        elementorFrontend.hooks.addAction('frontend/element_ready/wcf--banner-posts.default', WCF_Feature_Posts);\r\n        elementorFrontend.hooks.addAction(`frontend/element_ready/wcf--filterable-gallery.default`, WCF_Feature_Posts);\r\n        elementorFrontend.hooks.addAction(`frontend/element_ready/wcf--posts-filter.default`, WCF_Feature_Posts);\r\n        elementorFrontend.hooks.addAction(`frontend/element_ready/wcf--posts-slider.default`, WCF_Feature_Posts);\r\n    });\r\n\r\n})(jQuery);"],"mappings":"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","ignoreList":[]}